<html>

<head>
    <link rel="stylesheet" href="style.css">

    <!-- Vue.js  -->
    <!-- Development version, includes helpful console warnings -->
    <!-- script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script -->
    <!-- Production version, optimized for size and speed -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>

<!-- Own library -->
<script type="module" src="bundle.js"></script>

<script src="main.js"></script>

<body onload="start()">
    <span id="app">
        <div id="header" class="padded flexrow">
            <span id="menu-left" class="flexrow padded">
                <img src="img/trust_logotype.svg" />
            </span>
            <span id="menu-right" class="padded">
                <span v-show="!userToken">
                    <button v-on:click="window.location.href = loginActionUrl()">Log in with GitHub</button>
                </span>
                <span v-show="userToken">
                    <button v-on:click="logout()">Logged in as {{loginName}}</button>
                </span>
            </span>
        </div>
        <div>
            <div class="main">
                <div id="menu-left" class="flexrow" v-show="maintainerMode">
                    <span class="tab-select selection-item" v-on:click="selectTab('tab-prs')"
                        v-bind:class="{'selected-item': activeTab == 'tab-prs'}">Pull Requests</span>
                    <span class="tab-select selection-item" v-on:click="selectTab('tab-search')"
                        v-bind:class="{'selected-item': activeTab == 'tab-search'}">Token Search</span>
                    <span class="tab-select selection-item" v-on:click="selectTab('tab-add')"
                        v-bind:class="{'selected-item': activeTab == 'tab-add'}">Add New Token</span>
                </div>
                <div id="main-ifnouser" class="center" v-show="!userToken">
                    <div>You need to log in with your GitHub account, and authorize this application.</div>
                    <div><button v-on:click="window.location.href = loginActionUrl()">Log in</button></div>
                </div>
                <div id="main-ifusernorepo" class="center" v-show="userToken && !repo">
                    <div>No fork found for user {{loginName}} (yet...).</div>
                    <div>You need to fork the assets repository to be able create pull requests.</div>
                    <div><button v-on:click="window.open(mainRepoUrl)">Fork repo</button></div>
                </div>
                <div id="main-ifuserrepo" v-show="userToken && repo">
                    <main-pulls id="tab-pulls" :user-token="userToken" :login-name="loginName" :repo="repo"
                        :enabled="maintainerMode" v-show="maintainerMode && activeTab == 'tab-prs'">
                    </main-pulls>
                    <main-token-search id="tab-search" :user-token="userToken" :login-name="loginName" :repo="repo"
                        v-show="maintainerMode && activeTab == 'tab-search'">
                    </main-token-search>
                    <main-add-token id="tab-add" :user-token="userToken" :login-name="loginName" :repo="repo"
                        v-show="activeTab == 'tab-add'">
                    </main-add-token>
                </div>
                <div hidden="true">
                    <img id="image-placeholder-for-size-computation" src="img/emptylogo.png" />
                </div>
            </div>
        </div>
        <div id="footer">
            <span id="footer-left">
            </span>
            <span id="footer-right">
                <div v-show="maintainerMode">
                    <span id="version" class="smallfont">v{{version}}</span>
                </div>
            </span>
        </div>
    </span>
</body>

</html>
<html>

<head>
    <link rel="stylesheet" href="style.css">

    <!-- Vue.js  -->
    <!-- Development version, includes helpful console warnings -->
    <!-- script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script -->
    <!-- Production version, optimized for size and speed -->
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
</head>

<!-- Own library -->
<script type="module" src="bundle.js"></script>

<script src="main.js"></script>

<body onload="start()">
    <span id="app">
        <div id="header">
            <span id="menu-left">
                <a class="selection-item" v-on:click="selectTab('tab-add')" v-bind:class="{'selected-item': activeTab == 'tab-add'}">Add New Token</a>
                <a class="selection-item" v-on:click="selectTab('tab-prs')" v-bind:class="{'selected-item': activeTab == 'tab-prs'}">Pull Requests</a>
                <a class="selection-item" v-on:click="selectTab('tab-search')" v-bind:class="{'selected-item': activeTab == 'tab-search'}">Token Search</a>
            </span>
            <span id="menu-right">
                <span v-show="userToken == null">
                    <a :href="loginActionUrl()">Log in</a>
                </span>
                <span v-show="userToken != null">
                    <span v-show="repo == null">
                        No <a :href="mainRepoUrl" target="_blank">fork</a> found for user {{loginName}}!
                    </span>
                    <span v-show="repo != null">
                        <a :href="gitHub + '/' + loginName + '/' + repo + '.git'"
                            target="_blank">{{loginName}}/{{repo}}</a>
                    </span>
                    <span>
                        <a href="#" v-on:click="logout()">Logout</a>
                    </span>
                </span>
            </span>
        </div>
        <div>
            <div id="main">
                <div id="main-nouser" class="center" v-show="!userToken">
                    You need to log in with your GitHub account.
                    Please <a :href="loginActionUrl()">Log in</a>
                </div>
                <div id="main2" v-show="userToken">
                    <div id="tab-add" class="tab-pane flexrow" v-show="activeTab == 'tab-add'">
                        <div id="add-input">
                            <div class="margined">
                                <h3>Add Token</h3>
                                <div id="add-explanation" class="smallfont margined">
                                    <div>
                                        See guide on
                                        <a href="https://community.trustwallet.com/t/how-to-submit-a-token-logo/3863" target="_blank">community</a> and
                                        <a href="https://developer.trustwallet.com/add_new_asset" target="_blank">developer</a> sites.
                                    </div>
                                    <div>
                                        Fill in the token/project details.
                                        If all is OK, a new 
                                        <a href="https://docs.github.com/en/free-pro-team@latest/desktop/contributing-and-collaborating-using-github-desktop/creating-an-issue-or-pull-request" target="_blank">pull request</a> will be created in your name,
                                        against the <a href="https://github.com/trustwallet/assets/" target="_blank">assets repo</a>.
                                    </div>
                                </div>
                            </div>
                            <div>
                                <table>
                                    <tr>
                                        <td class="input_label_td">Name:</td>
                                        <td>
                                            <input v-model="tokenInput.name" class="input wide" placeholder="Token Name"
                                                v-on:change="tokenInputChanged()" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">Type:</td>
                                        <td>
                                            <select v-model="tokenInput.type" class="input wide"
                                                v-on:change="tokenInputChanged()">
                                                <option value="erc20">ERC20 (Ethereum)</option>
                                                <option value="bep2">BEP2 (Binance)</option>
                                                <option value="bep20">BEP20 (Binance Smart Chain)</option>
                                                <option value="trc10">TRC10 (Tron)</option>
                                                <option value="trc20">TRC20 (Tron)</option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">Contract/ID:</td>
                                        <td>
                                            <input v-model="tokenInput.contract" class="input"
                                                placeholder="0xF784682C82526e245F50975190EF0fff4E4fC077" size="40"
                                                v-on:change="tokenInputChanged()" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">
                                            <div>Logo:</div>
                                        </td>
                                        <td>
                                            <div>
                                                <button class="button"
                                                    onclick="document.getElementById('input.file-selector').click();">Upload</button>
                                                <input id="input.file-selector" type="file" style="display: none;"
                                                    v-on:change="logoFileSelected()" />
                                                <span v-html="inputLogoText" id="input.logo-input"></span>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">
                                            <div>Preview:</div>
                                        </td>
                                        <td>
                                            <div>
                                                <logo-preview :logostream="tokenInput.logoStream"
                                                    :tokenname="tokenInput.name" />
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">Website:</td>
                                        <td>
                                            <input v-model="tokenInput.website" class="input"
                                                placeholder="https://tokenproject.fi" size="40"
                                                v-on:change="tokenInputChanged()" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">Explorer:</td>
                                        <td>
                                            <input v-model="tokenInput.explorerUrl" class="input"
                                                placeholder="https://etherscan.io/token/0xF784682C82526e245F50975190EF0fff4E4fC077"
                                                size="40" v-on:change="tokenInputChanged()" />
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">Short description:</td>
                                        <td><textarea v-model="tokenInput.description" class="input wide"
                                                placeholder="Short description of the project"
                                                rows="2" v-on:change="tokenInputChanged()"></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="input_label_td">Check result:</td>
                                        <td><textarea v-model="tokenInputCheckResult" class="input wide"
                                                rows="3"></textarea>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td>
                                            <button class="button" type="button"
                                                v-on:click="createPullButton()">Create
                                                PR</button>
                                            <button class="button" type="button"
                                                v-on:click="checkInputButton()">Check/Fix</button>
                                            <button class="button" type="button"
                                                v-on:click="clearInput()">Clear</button>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <div id="add-debug-mode-switch">
                                <input type="checkbox" id="debug_mode_cb" v-model="debugMode" /><label
                                    for="debug_mode_cb">Debug
                                    Mode</label>
                            </div>
                        </div>
                        <div v-show="debugMode" id="add-debug-mode">
                            <div>Debug Mode</div>
                            <div>
                                <button class="button" type="button" v-on:click="debugFillWithDummyData();">Fill
                                    test
                                    data</button>
                                <input type="checkbox" id="debug_pr_target_fork_cb"
                                    v-model="debugTargetFork" /><label for="debug_pr_target_fork_cb">Create PR in
                                    fork
                                </label>
                            </div>
                        </div>
                    </div>
                    <div id="tab-pulls" class="tab-pane flexrow" v-show="activeTab == 'tab-prs'">
                        <div id="pulls-list">
                            <div class="margined">
                                <h3>Pull Requests</h3>
                            </div>
                            <pulls-list :user-token="userToken" v-on:selecttoken="onPullSelectToken"></pulls-list>
                        </div>
                        <token-view :token-info="tokenInfo"></token-view>
                    </div>
                    <div id="tab-search" class="tab-pane flexrow" v-show="activeTab == 'tab-search'">
                        <div id="search">
                            <div class="margined">
                                <h3>Token Search</h3>
                            </div>
                            <token-search v-on:selecttoken="onSearchSelectToken"></token-search>
                        </div>
                        <token-view :token-info="tokenInfo"></token-view>
                    </div>
                </div>
                <div hidden="true">
                    <img id="image-placeholder-for-size-computation" src="favicon.ico" />
                </div>
            </div>
        </div>
        <div id="footer">
            <span id="footer-left">
            </span>
            <span id="footer-right">
                <a href="https://assets.trustwallet.com">Trust Wallet Assets App</a>
                <span id="version" class="smallfont">{{version}}</span>
                <img src="favicon.ico" height="20" />
            </span>
        </div>
    </span>
</body>

</html>